{"version":3,"sources":["webpack:///webpack/bootstrap dd56b98624e4e5ca69e8","webpack:///./studio/main_dev.js","webpack:///external \"Studio\"","webpack:///./studio/NewTagModal.js","webpack:///external \"Studio.libraries['react']\"","webpack:///./studio/ColorPickerTrigger.js","webpack:///./studio/ShowColor.js","webpack:///./studio/simpleCheckForValidColor.js","webpack:///./studio/colorLuminance.js","webpack:///./studio/ColorPicker/index.js","webpack:///./studio/ColorPicker/ColorWrap.js","webpack:///./~/lodash.debounce/index.js","webpack:///./studio/ColorPicker/Picker.js","webpack:///./studio/ColorPicker/utils/handleHover.js","webpack:///./studio/ColorPicker/Swatch.js","webpack:///./studio/TagEditor.js","webpack:///./studio/TagProperties.js","webpack:///./studio/EntityTagProperties.js","webpack:///./studio/EntityTreeTagOrganizer.js","webpack:///./studio/emitter.js","webpack:///./~/mitt/dist/mitt.js","webpack:///./studio/findTagInSet.js","webpack:///./shared/reservedTagNames.js","webpack:///./studio/TagEntityTreeOrganizeButtonToolbar.js","webpack:///./studio/organizeState.js","webpack:///./studio/TagEntityTreeButtonToolbar.scss?05f8","webpack:///./studio/TagEntityTreeButtonToolbar.scss","webpack:///./~/css-loader/lib/css-base.js","webpack:///./~/style-loader/addStyles.js","webpack:///./studio/TagEntityTreeFilterButtonToolbar.js","webpack:///./studio/TagEntityTreeFilterByTags.js","webpack:///external \"Studio.libraries['react-list']\"","webpack:///./studio/getColorLuminance.js","webpack:///./studio/hexToRgb.js","webpack:///./studio/TagEntityTreeFilterByTags.scss?29ce","webpack:///./studio/TagEntityTreeFilterByTags.scss","webpack:///./studio/TagEntityTreeItem.js","webpack:///./studio/TagEntityTreeTagGroupItem.js","webpack:///./studio/filterItemWithTagsStrategy.js"],"names":["organizeState","Studio","addEntitySet","name","faIcon","visibleName","onNew","options","openModal","NewTagModal","helpUrl","referenceAttributes","entityTreePosition","initializeListeners","push","Object","keys","entitySets","forEach","entitySetName","entitySet","indexOf","emitter","on","organizationMode","current","selectedTags","filterTags","addEditorComponent","TagEditor","addPropertiesComponent","TagProperties","title","entity","__entitySet","EntityTagProperties","addEntityTreeWrapperComponent","EntityTreeTagOrganizer","addEntityTreeToolbarComponent","TagEntityTreeFilterButtonToolbar","TagEntityTreeOrganizeButtonToolbar","addEntityTreeItemComponent","TagEntityTreeItem","TagEntityTreeTagGroupItem","entityTreeFilterItemResolvers","filterItemWithTagsStrategy","props","state","displayColorPicker","selectedColor","error","setTimeout","refs","focus","e","key","createTag","value","setState","defaults","assign","color","description","api","post","data","response","addExistingEntity","openTab","close","message","handleKeyPress","border","colorInputValue","colorHex","resize","display","opacity","Component","propTypes","PropTypes","func","isRequired","ColorPicketTrigger","containerStyles","onClickColorTrigger","onInputChange","onChangeSelectionColor","onCloseColorPicker","translateXColorPickerFromTrigger","translateYColorPickerFromTrigger","containerTriggerPickerStyles","height","padding","defaultContainerStyles","currentColor","currentContainerStyles","colorPickerContainerStyles","transformValue","transform","width","ev","target","hex","bool","string","object","ShowColor","borderColor","backgroundColor","borderWidth","borderStyle","verticalAlign","number","HEX_COLOR_REGEXP","simpleCheckForValidColor","test","lum","selectedLum","selectedHex","String","replace","length","rgb","c","i","parseInt","substr","Math","round","min","max","toString","Picker","colorToState","ColorWrap","ColorPicker","visible","debounce","fn","event","handleChange","bind","nextProps","isValidColor","colors","onChangeComplete","onChange","PureComponent","defaultProps","PickerSwatch","hover","onClick","styles","swatch","position","zIndex","outline","boxShadow","triangle","card","background","borderRadius","flexWrap","source","map","handleHover","Span","handleMouseOver","handleMouseOut","React","Swatch","style","cursor","handleClick","entities","_id","v","EntityRefSelect","selectValues","selected","tags","shortid","removeInvalidTagReferences","updatedTags","filter","t","k","references","getNameAndColor","foundTags","tg","undefined","getSelectedTags","tIndex","allSelectTags","marginRight","require","noTagGroupName","tagsGroupName","organizeByDefault","extensions","organizeByTags","onOrganizationModeChange","off","organizeByTag","newItems","entitySetsNames","allTagEntities","currentTagEntities","entitiesByTagAndType","entitiesByTypeWithoutTag","getEntityTypeNameAttr","tagsWithNoEntities","tag","tagName","entitiesByType","typesInTag","every","type","tagItem","typeItem","isGroup","items","isEntitySet","noTagsItem","item","tagsItem","collection","tagFound","getReferences","entityTag","groupEntityByTagAndType","entitiesInSet","entitiesInSetCount","j","addItemsByTag","cloneElement","children","renderDefaultTree","renderTree","getSetsToRender","groupEntitiesByTag","tagSet","tagShortId","found","some","tagInSet","reservedTagNames","module","exports","default","handleOrganizationModeChange","stopPropagation","emit","closeMenu","active","showFilter","openFilter","closeFilter","handleTagSelectChange","setFilter","allTags","isActive","TagEntityTreeFilterByTags","showTagsList","filterText","createRenderer","addSelectedTag","onTagSelectionClick","onChangeInputTag","onKeyDownInputTag","onRemoveTagItem","index","renderTagItem","previousSelectedTags","onTagSelectChange","tagSelectionInput","filterPass","foundInSelectedTags","selectTag","tagSelection","defaultPrevented","keyCode","inputTag","remove","enterKey","removeKey","preventDefault","onFilterClose","selectedTagsLastIndex","tagIndex","originalSelectedTags","slice","tagsListItem","tagsToShowInList","getTagsToShow","stylesForTagsList","stylesForInputTag","searchTagsContainer","searchTagsInputBox","tagsSelect","tagStyles","tagsSelectItem","tagsSelectItemRemove","searchTags","tagsListContainer","tagsList","tagsListEmpty","arrayOf","shape","RsRGB","GsRGB","BsRGB","R","G","B","r","g","b","pow","shorthandRegex","fullHex","m","result","exec","tagsLength","marginLeft","filterInfo","allTagsInEntity","tagInEntity"],"mappings":"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AA3CyB;;AAAA;AAAA,KACDO,wBAAiBtE,gBADhB;;AA8C5B0D,eAAYa,YAAZ,GAA2B;AACzBxF,YAAO;AADkB,IAA3B;;AAIA,UAAO2E,WAAP;AACD,EAnDD;;mBAqDeD,S;;;;;;AClEf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,OAAO;AAClB,YAAW,OAAO,YAAY;AAC9B,YAAW,QAAQ;AACnB;AACA,YAAW,OAAO;AAClB;AACA,YAAW,QAAQ;AACnB;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,+CAA8C,kBAAkB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;ACvXA;;;;AACA;;;;;;AAEA,KAAMe,eAAe,2BAAY,gBAA+B;AAAA,OAA5BC,KAA4B,QAA5BA,KAA4B;AAAA,OAArB1F,KAAqB,QAArBA,KAAqB;AAAA,OAAd2F,OAAc,QAAdA,OAAc;;AAC9D,OAAMC,SAAS;AACbC,aAAQ;AACNtD,cAAO,MADD;AAENR,eAAQ;AAFF;AADK,IAAf;;AAOA,OAAI2D,KAAJ,EAAW;AACTE,YAAOC,MAAP,gBACKD,OAAOC,MADZ;AAEEC,iBAAU,UAFZ;AAGEC,eAAQ,GAHV;AAIEC,gBAAS,gBAJX;AAKEC,kBAAW;AALb;AAOD;;AAED,UACE;AAAA;AAAA,OAAK,OAAOL,OAAOC,MAAnB;AACE,yBAAC,gBAAD,IAAQ,OAAO7F,KAAf,EAAsB,SAAS2F,OAA/B;AADF,IADF;AAKD,EAvBoB,CAArB;;AAyBA,KAAMnB,SAAS,SAATA,MAAS,QAA2C;AAAA,OAAxCjC,KAAwC,SAAxCA,KAAwC;AAAA,OAAjC6C,MAAiC,SAAjCA,MAAiC;AAAA,OAAzBE,QAAyB,SAAzBA,QAAyB;AAAA,OAAfY,QAAe,SAAfA,QAAe;;AACxD,OAAMN,SAAS;AACbO,WAAM;AACJ5D,mBADI;AAEJ6D,mBAAY,MAFR;AAGJzF,eAAQ,2BAHJ;AAIJsF,kBAAW,6BAJP;AAKJI,qBAAc,KALV;AAMJP,iBAAU,UANN;AAOJ9D,gBAAS,KAPL;AAQJjB,gBAAS,MARL;AASJuF,iBAAU;AATN;AADO,IAAf;AAaA,OAAMtB,eAAe,SAAfA,YAAe,CAACtC,GAAD,EAAMjD,CAAN;AAAA,YAAY6F,SAAS,EAAE5C,QAAF,EAAO6D,QAAQ,KAAf,EAAT,EAAiC9G,CAAjC,CAAZ;AAAA,IAArB;;AAEA,UACE;AAAA;AAAA,OAAK,OAAOmG,OAAOO,IAAnB;AACGf,YAAOoB,GAAP,CAAW,UAACzC,CAAD;AAAA,cACV,oBAAC,YAAD,IAAc,OAAOA,CAArB,EAAwB,KAAKA,CAA7B,EAAgC,SAASiB,YAAzC,GADU;AAAA,MAAX;AADH,IADF;AAOD,EAvBD;;AAyBAR,QAAOgB,YAAP,GAAsB;AACpBjD,UAAO,OADa;AAEpB6C,WAAQ,CACN,SADM,EACK,SADL,EACgB,SADhB,EAC2B,SAD3B,EACsC,SADtC,EAEN,SAFM,EAEK,SAFL,EAEgB,SAFhB,EAE2B,SAF3B,EAEsC,SAFtC,EAGN,SAHM,EAGK,SAHL,EAGgB,SAHhB,EAG2B,SAH3B;AAFY,EAAtB;;mBASeZ,M;;;;;;;;;;;;;;;;AC/Df;;;;;;;;;;;;AAEA,KAAMiC,cAAc,SAAdA,WAAc,CAACxF,SAAD,EAA8B;AAAA,OAAlByF,IAAkB,uEAAX,MAAW;;AAChD;AAAA;;AACE,oBAAazH,KAAb,EAAoB;AAAA;;AAAA,iHACZA,KADY;;AAGlB,aAAKC,KAAL,GAAa,EAAEwG,OAAO,KAAT,EAAb;;AAEA,aAAKiB,eAAL,GAAuB,MAAKA,eAAL,CAAqB1B,IAArB,OAAvB;AACA,aAAK2B,cAAL,GAAsB,MAAKA,cAAL,CAAoB3B,IAApB,OAAtB;AANkB;AAOnB;;AARH;AAAA;AAAA,yCAUqB;AACjB,cAAKpF,QAAL,CAAc,EAAE6F,OAAO,IAAT,EAAd;AACD;AAZH;AAAA;AAAA,wCAaoB;AAChB,cAAK7F,QAAL,CAAc,EAAE6F,OAAO,KAAT,EAAd;AACD;AAfH;AAAA;AAAA,gCAiBY;AACR,gBAAO;AAAC,eAAD;AAAA,aAAM,aAAa,KAAKiB,eAAxB,EAAyC,YAAY,KAAKC,cAA1D;AACL,yCAAC,SAAD,eAAe,KAAK3H,KAApB,EAA+B,KAAKC,KAApC;AADK,UAAP;AAGD;AArBH;;AAAA;AAAA,KAA2B2H,gBAAM5F,SAAjC;AAuBD,EAxBD;;mBA0BewF,W;;;;;;;;;;;;AC3Bf,KAAMK,SAAS,SAATA,MAAS,OAA8C;AAAA,OAA3C9G,KAA2C,QAA3CA,KAA2C;AAAA,OAApC+G,KAAoC,QAApCA,KAAoC;AAAA,OAA7BpB,OAA6B,QAA7BA,OAA6B;AAAA,yBAApBxH,KAAoB;AAAA,OAApBA,KAAoB,8BAAZ6B,KAAY;;AAC3D,OAAM4F,SAAS;AACbC,aAAQ;AACNO,mBAAYpG,KADN;AAEN+B,eAAQ,MAFF;AAGNQ,cAAO,MAHD;AAINyE,eAAQ;AAJF;AADK,IAAf;;AASA,OAAMC,cAAc,SAAdA,WAAc,CAACxH,CAAD;AAAA,YAAOkG,QAAQ3F,KAAR,EAAeP,CAAf,CAAP;AAAA,IAApB;;AAEA,UACE,6BAAK,OAAOmG,OAAOC,MAAnB,EAA2B,SAASoB,WAApC,EAAiD,OAAO9I,KAAxD,GADF;AAGD,EAfD;;mBAiBe2I,M;;;;;;;;;;;;;;AClBf;;;;AACA;;;;;;;;;;;;KAEqB9I,S;;;;;;;;;;;8BACT;AAAA,WACAI,MADA,GACW,KAAKa,KADhB,CACAb,MADA;;;AAGR,cACE;AAAA;AAAA,WAAK,WAAU,eAAf;AACE;AAAA;AAAA;AACE;AAAA;AAAA;AAAI,kDAAG,WAAU,WAAb,GAAJ;AAAA;AAAiCA,oBAAO9B;AAAxC;AADF,UADF;AAIE;AAAA;AAAA;AAAA;AACe,oDADf;AAEE;AAAA;AAAA;AAAI8B,oBAAO6B,WAAP,IAAsB;AAAA;AAAA;AAAA;AAAA;AAA1B;AAFF,UAJF;AAQE;AAAA;AAAA;AAAA;AACS,yCAAC,mBAAD,IAAW,OAAO7B,OAAO4B,KAAzB;AADT;AARF,QADF;AAcD;;;;GAlBoCiB,gB;;mBAAlBjD,S;;;AAqBrBA,WAAUkD,SAAV,GAAsB;AACpB9C,WAAQ+C,iBAAU0B,MAAV,CAAiBxB;AADL,EAAtB,C;;;;;;;;;;;;;;ACxBA;;;;AACA;;;;AACA;;;;;;;;;;;;KAEqBnD,a;;;;;2BACLE,M,EAAQ8I,Q,EAAU;AAC9B,cACE;AAAA;AAAA;AACE;AAAA;AAAA;AAAA;AACe,yCAAC,mBAAD,IAAW,OAAO9I,OAAO4B,KAAzB,EAAgC,OAAO,EAAvC,EAA2C,QAAQ,EAAnD,GADf;AAAA;AAAA;AADF,QADF;AAOD;;;AAED,0BAAaf,KAAb,EAAoB;AAAA;;AAAA,+HACZA,KADY;;AAGlB,WAAKC,KAAL,GAAa;AACXC,2BAAoB;AADT,MAAb;AAHkB;AAMnB;;;;8BAES;AAAA;;AAAA,WACAA,kBADA,GACuB,KAAKD,KAD5B,CACAC,kBADA;AAAA,oBAEqB,KAAKF,KAF1B;AAAA,WAEAb,MAFA,UAEAA,MAFA;AAAA,WAEQkH,SAFR,UAEQA,QAFR;;;AAIR,cACE;AAAA;AAAA,WAAK,WAAU,oBAAf;AACE;AAAA;AAAA,aAAK,WAAU,YAAf;AACE;AAAA;AAAA;AAAA;AAAA,YADF;AAGE;AAAA;AAAA;AACE,2CAAC,4BAAD;AACE,mCAAoBnG,kBADtB;AAEE,gCAAiB,EAAEwB,QAAQ,iBAAV,EAFnB;AAGE,sBAAOvC,OAAO4B,KAHhB;AAIE,oCAAqB;AAAA,wBAAM,OAAKH,QAAL,CAAc,EAAEV,oBAAoB,IAAtB,EAAd,CAAN;AAAA,gBAJvB;AAKE,mCAAoB;AAAA,wBAAM,OAAKU,QAAL,CAAc,EAAEV,oBAAoB,KAAtB,EAAd,CAAN;AAAA,gBALtB;AAME,8BAAe,uBAACyB,eAAD;AAAA,wBAAqBA,oBAAoBxC,OAAO4B,KAA3B,IAAoCsF,UAAS,EAAE6B,KAAK/I,OAAO+I,GAAd,EAAmBnH,OAAOY,eAA1B,EAAT,CAAzD;AAAA,gBANjB;AAOE,uCAAwB,gCAACC,QAAD;AAAA,wBAAcyE,UAAS,EAAE6B,KAAK/I,OAAO+I,GAAd,EAAmBnH,OAAOa,QAA1B,EAAT,CAAd;AAAA;AAP1B;AADF;AAHF,UADF;AAgBE;AAAA;AAAA,aAAK,WAAU,YAAf;AACE;AAAA;AAAA;AAAA;AAAA,YADF;AAEE;AACE,mBAAK,GADP;AAEE,oBAAO,EAAEC,QAAQ,UAAV,EAFT;AAGE,oBAAO1C,OAAO6B,WAAP,IAAsB,EAH/B;AAIE,uBAAU,kBAACmH,CAAD;AAAA,sBAAO9B,UAAS,EAAE6B,KAAK/I,OAAO+I,GAAd,EAAmBlH,aAAamH,EAAE3E,MAAF,CAAS7C,KAAzC,EAAT,CAAP;AAAA;AAJZ;AAFF;AAhBF,QADF;AA4BD;;;;GAnDwCqB,gB;;mBAAtB/C,a;;;;;;;;;;;;;;;;ACJrB;;;;AACA;;;;AACA;;;;;;;;;;;;AAEA,KAAMmJ,kBAAkBjL,yBAAOiL,eAA/B;;AAEA,KAAMC,eAAe,SAAfA,YAAe,CAACC,QAAD,EAAc;AACjC,OAAMC,OAAOD,SAASf,GAAT,CAAa,UAACY,CAAD,EAAO;AAC/B,YAAO,EAAEK,SAASL,EAAEK,OAAb,EAAP;AACD,IAFY,CAAb;;AAIA,UAAOD,IAAP;AACD,EAND;;KAQqBlJ,mB;;;;;;;;;;;yCAwCE;AACnB,YAAKoJ,0BAAL;AACD;;;0CAEqB;AACpB,YAAKA,0BAAL;AACD;;;kDAE6B;AAAA,oBACW,KAAKzI,KADhB;AAAA,WACpBb,MADoB,UACpBA,MADoB;AAAA,WACZ8I,QADY,UACZA,QADY;AAAA,WACF5B,QADE,UACFA,QADE;;;AAG5B,WAAI,CAAClH,OAAOoJ,IAAZ,EAAkB;AAChB;AACD;;AAED,WAAMG,cAAcvJ,OAAOoJ,IAAP,CAAYI,MAAZ,CAAmB,UAACC,CAAD;AAAA,gBAAO3K,OAAOC,IAAP,CAAY+J,QAAZ,EAAsBU,MAAtB,CAA6B,UAACE,CAAD;AAAA,kBAAOZ,SAASY,CAAT,EAAYzJ,WAAZ,KAA4B,MAA5B,IAAsC6I,SAASY,CAAT,EAAYL,OAAZ,KAAwBI,EAAEJ,OAAvE;AAAA,UAA7B,EAA6G5D,MAApH;AAAA,QAAnB,CAApB;;AAEA,WAAI8D,YAAY9D,MAAZ,KAAuBzF,OAAOoJ,IAAP,CAAY3D,MAAvC,EAA+C;AAC7CyB,kBAAS,EAAE6B,KAAK/I,OAAO+I,GAAd,EAAmBK,MAAMG,WAAzB,EAAT;AACD;AACF;;;8BAES;AAAA,qBACqB,KAAK1I,KAD1B;AAAA,WACAb,MADA,WACAA,MADA;AAAA,WACQkH,SADR,WACQA,QADR;;;AAGR,cACE;AAAA;AAAA,WAAK,WAAU,oBAAf;AACE;AAAA;AAAA,aAAK,WAAU,YAAf;AACE,yCAAC,eAAD;AACE,2BAAa,aADf;AAEE,qBAAQ,gBAACyC,UAAD;AAAA,sBAAiB,EAAEP,MAAMO,WAAWP,IAAnB,EAAjB;AAAA,cAFV;AAGE,oBAAOpJ,OAAOoJ,IAAP,GAAcpJ,OAAOoJ,IAAP,CAAYhB,GAAZ,CAAgB,UAACqB,CAAD;AAAA,sBAAOA,EAAEJ,OAAT;AAAA,cAAhB,CAAd,GAAkD,EAH3D;AAIE,uBAAU,kBAACF,QAAD;AAAA,sBAAcjC,UAAS,EAAE6B,KAAK/I,OAAO+I,GAAd,EAAmBK,MAAMF,aAAaC,QAAb,CAAzB,EAAT,CAAd;AAAA,cAJZ;AAKE;AALF;AADF;AADF,QADF;AAaD;;;qCA7EuBnJ,M,EAAQ8I,Q,EAAU;AACxC,WAAMc,kBAAkB,SAAlBA,eAAkB,CAACH,CAAD,EAAO;AAC7B,aAAMI,YAAY/K,OAAOC,IAAP,CAAY+J,QAAZ,EAAsBV,GAAtB,CAA0B,UAACsB,CAAD;AAAA,kBAAOZ,SAASY,CAAT,CAAP;AAAA,UAA1B,EAA8CF,MAA9C,CAAqD,UAACM,EAAD;AAAA,kBAAQA,GAAGT,OAAH,KAAeI,EAAEJ,OAAzB;AAAA,UAArD,CAAlB;;AAEA,gBAAOQ,UAAUpE,MAAV,GAAmB,EAAEvH,MAAM2L,UAAU,CAAV,EAAa3L,IAArB,EAA2B0D,OAAOiI,UAAU,CAAV,EAAajI,KAA/C,EAAnB,GAA4E,EAAE1D,MAAM,EAAR,EAAY0D,OAAOmI,SAAnB,EAAnF;AACD,QAJD;;AAMA,cAAO,CAAC/J,OAAOoJ,IAAP,IAAe,EAAhB,EAAoBhB,GAApB,CAAwB,UAACqB,CAAD;AAAA,6BAC1BA,CAD0B,EAE1BG,gBAAgBH,CAAhB,CAF0B;AAAA,QAAxB,CAAP;AAID;;;2BAEazJ,M,EAAQ8I,Q,EAAU;AAC9B,WAAI,CAAC9I,OAAOoJ,IAAR,IAAgB,CAACpJ,OAAOoJ,IAAP,CAAY3D,MAAjC,EAAyC;AACvC,gBAAO,MAAP;AACD;;AAED,cACE;AAAA;AAAA;AAAA;AAEE;AAAA;AAAA;AAEIvF,+BAAoB8J,eAApB,CAAoChK,MAApC,EAA4C8I,QAA5C,EAAsDV,GAAtD,CAA0D,UAACqB,CAAD,EAAIQ,MAAJ,EAAYC,aAAZ,EAA8B;AACtF,oBACE;AAAA;AAAA,iBAAM,KAAKT,EAAEvL,IAAb,EAAmB,OAAO,EAAEyE,SAAS,cAAX,EAA2BwH,aAAa,KAAxC,EAA1B;AACE,6CAAC,mBAAD,IAAW,OAAOV,EAAE7H,KAApB,EAA2B,OAAO,EAAlC,EAAsC,QAAQ,EAA9C,GADF;AAAA;AAGG6H,iBAAEvL,IAHL;AAIG+L,0BAAWC,cAAczE,MAAd,GAAuB,CAAlC,GAAsC,EAAtC,GAA2C;AAJ9C,cADF;AAQD,YATD;AAFJ;AAFF,QADF;AAmBD;;;;GAtC8C5C,gB;;mBAA5B3C,mB;;;;;;;;;;;;;;ACdrB;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;gBAE0C,mBAAAkK,CAAQ,EAAR,C;KAAlCC,c,YAAAA,c;KAAgBC,a,YAAAA,a;;KAElBlK,sB;;;AACJ,qCAAe;AAAA;;AAAA;;AAGb,SAAImK,oBAAoBvM,yBAAOwM,UAAP,CAAkB,MAAlB,EAA0BlM,OAA1B,CAAkCiM,iBAA1D;;AAEA,SAAIA,qBAAqB,IAAzB,EAA+B;AAC7BA,2BAAoB,KAApB;AACD;;AAED,WAAKzJ,KAAL,GAAa;AACX2J,uBAAgBF;AADL,MAAb;;AAIA,WAAKG,wBAAL,GAAgC,MAAKA,wBAAL,CAA8B7D,IAA9B,OAAhC;AAba;AAcd;;;;yCAEoB;AACnBxH,yBAAQC,EAAR,CAAW,+BAAX,EAA4C,KAAKoL,wBAAjD;AACD;;;4CAEuB;AACtBrL,yBAAQsL,GAAR,CAAY,+BAAZ,EAA6C,KAAKD,wBAAlD;AACD;;;8CAEyBE,a,EAAe;AACvC,YAAKnJ,QAAL,CAAc;AACZgJ,yBAAgBG;AADJ,QAAd;AAGD;;;mCAGCC,Q,EACAC,e,EACAC,c,EACAC,kB,EACAC,oB,EACAC,wB,EACAC,qB,EACA;AACA,WAAMC,qBAAqB,EAA3B;;AAEAL,sBAAe9L,OAAf,CAAuB,UAACoM,GAAD,EAAS;AAC9B,aAAMC,UAAUH,sBAAsBE,IAAIpL,WAA1B,EAAuCoL,GAAvC,CAAhB;AACA,aAAME,iBAAiBN,qBAAqBK,OAArB,CAAvB;AACA,aAAME,aAAa1M,OAAOC,IAAP,CAAYwM,cAAZ,CAAnB;;AAEA,aACEC,WAAW/F,MAAX,KAAsB,CAAtB,IACA+F,WAAWC,KAAX,CAAiB,UAACC,IAAD;AAAA,kBAAUH,eAAeG,IAAf,EAAqBjG,MAArB,GAA8B,CAAxC;AAAA,UAAjB,MAAgE,KAFlE,EAGE;AACA2F,8BAAmBvM,IAAnB,CAAwBwM,GAAxB;AACA;AACD;;AAED,aAAIM,gBAAJ;;AAEAb,yBAAgB7L,OAAhB,CAAwB,UAACyM,IAAD,EAAU;AAChC,eAAIA,SAAS,MAAb,EAAqB;AACnB;AACD;;AAED,eAAM5C,WAAWyC,eAAeG,IAAf,CAAjB;AACA,eAAIE,iBAAJ;;AAEA,eAAI,CAACD,OAAL,EAAc;AACZA,uBAAU;AACRzN,qBAAMoN,OADE;AAERO,wBAAS,IAFD;AAGR7J,qBAAMqJ,GAHE;AAIRS,sBAAO;AAJC,cAAV;;AAOAjB,sBAAShM,IAAT,CAAc8M,OAAd;AACD;;AAED,eAAI,CAAC7C,QAAD,IAAaA,SAASrD,MAAT,KAAoB,CAArC,EAAwC;AACtCkG,qBAAQG,KAAR,CAAcjN,IAAd,CAAmB;AACjBX,qBAAMwN,IADW;AAEjBK,4BAAa,IAFI;AAGjBD,sBAAO;AAHU,cAAnB;;AAMA;AACD;;AAEDF,sBAAW;AACT1N,mBAAMwN,IADG;AAETK,0BAAa,IAFJ;AAGTD,oBAAO;AAHE,YAAX;;AAMAhD,oBAAS7J,OAAT,CAAiB,UAACe,MAAD,EAAY;AAC3B4L,sBAASE,KAAT,CAAejN,IAAf,CAAoB;AAClBX,qBAAMiN,sBAAsBnL,OAAOC,WAA7B,EAA0CD,MAA1C,CADY;AAElBgC,qBAAMhC;AAFY,cAApB;AAID,YALD;;AAOA2L,mBAAQG,KAAR,CAAcjN,IAAd,CAAmB+M,QAAnB;AACD,UA3CD;AA4CD,QA3DD;;AA6DAR,0BAAmBnM,OAAnB,CAA2B,UAACoM,GAAD,EAAS;AAClC,aAAMM,UAAU;AACdzN,iBAAMiN,sBAAsBE,IAAIpL,WAA1B,EAAuCoL,GAAvC,CADQ;AAEdQ,oBAAS,IAFK;AAGd7J,iBAAMqJ,GAHQ;AAIdS,kBAAO;AAJO,UAAhB;;AAOAhB,yBAAgB7L,OAAhB,CAAwB,UAACyM,IAAD,EAAU;AAChC,eAAIA,SAAS,MAAb,EAAqB;AACnB;AACD;;AAEDC,mBAAQG,KAAR,CAAcjN,IAAd,CAAmB;AACjBX,mBAAMwN,IADW;AAEjBK,0BAAa,IAFI;AAGjBD,oBAAO;AAHU,YAAnB;AAKD,UAVD;;AAYAjB,kBAAShM,IAAT,CAAc8M,OAAd;AACD,QArBD;;AAuBA,WAAMK,aAAa;AACjB9N,eAAMmM,cADW;AAEjBwB,kBAAS,IAFQ;AAGjBC,gBAAO;AAHU,QAAnB;;AAMAhB,uBAAgB7L,OAAhB,CAAwB,UAACyM,IAAD,EAAU;AAChC,aAAIA,SAAS,MAAb,EAAqB;AACnB;AACD;;AAED,aAAMO,OAAO;AACX/N,iBAAMwN,IADK;AAEXK,wBAAa,IAFF;AAGXD,kBAAO;AAHI,UAAb;;AAMA,aAAMhD,WAAWoC,yBAAyBQ,IAAzB,CAAjB;;AAEA,aAAI5C,QAAJ,EAAc;AACZA,oBAAS7J,OAAT,CAAiB,UAACe,MAAD,EAAY;AAC3BiM,kBAAKH,KAAL,CAAWjN,IAAX,CAAgB;AACdX,qBAAMiN,sBAAsBnL,OAAOC,WAA7B,EAA0CD,MAA1C,CADQ;AAEdgC,qBAAMhC;AAFQ,cAAhB;AAID,YALD;AAMD;;AAEDgM,oBAAWF,KAAX,CAAiBjN,IAAjB,CAAsBoN,IAAtB;AACD,QAvBD;;AAyBApB,gBAAShM,IAAT,CAAcmN,UAAd;;AAEA,WAAME,WAAW;AACfhO,eAAMoM,aADS;AAEfyB,sBAAa,IAFE;AAGfD,gBAAO;AAHQ,QAAjB;;AAMA,WAAId,kBAAJ,EAAwB;AACtBA,4BAAmB/L,OAAnB,CAA2B,UAACoM,GAAD,EAAS;AAClCa,oBAASJ,KAAT,CAAejN,IAAf,CAAoB;AAClBX,mBAAMiN,sBAAsBE,IAAIpL,WAA1B,EAAuCoL,GAAvC,CADY;AAElBrJ,mBAAMqJ;AAFY,YAApB;AAID,UALD;AAMD;;AAEDR,gBAAShM,IAAT,CAAcqN,QAAd;AACD;;;6CAEwBC,U,EAAYpB,c,EAAgB/K,M,EAAQmL,qB,EAAuB;AAClF,WAAInL,OAAOC,WAAP,KAAuB,MAA3B,EAAmC;AACjC,aAAM/B,OAAOiN,sBAAsBnL,OAAOC,WAA7B,EAA0CD,MAA1C,CAAb;AACAmM,oBAAWjO,IAAX,IAAmBiO,WAAWjO,IAAX,KAAoB,EAAvC;AACD,QAHD,MAGO,IAAI8B,OAAOoJ,IAAP,IAAe,IAAnB,EAAyB;AAC9BpJ,gBAAOoJ,IAAP,CAAYnK,OAAZ,CAAoB,UAACoM,GAAD,EAAS;AAC3B,eAAMe,WAAW,4BAAarB,cAAb,EAA6BM,IAAIhC,OAAjC,CAAjB;;AAEA,eAAI+C,QAAJ,EAAc;AACZ,iBAAMlO,QAAOiN,sBAAsBiB,SAASnM,WAA/B,EAA4CmM,QAA5C,CAAb;AACAD,wBAAWjO,KAAX,IAAmBiO,WAAWjO,KAAX,KAAoB,EAAvC;AACAiO,wBAAWjO,KAAX,EAAiB8B,OAAOC,WAAxB,IAAuCkM,WAAWjO,KAAX,EAAiB8B,OAAOC,WAAxB,KAAwC,EAA/E;AACAkM,wBAAWjO,KAAX,EAAiB8B,OAAOC,WAAxB,EAAqCpB,IAArC,CAA0CmB,MAA1C;AACD;AACF,UATD;AAUD;AACF;;;wCAEmB8K,e,EAAiBhC,Q,EAAUqC,qB,EAAuB;AAAA;;AACpE,WAAMN,WAAW,EAAjB;AACA,WAAIE,iBAAiB/M,yBAAOqO,aAAP,GAAuBjD,IAAvB,IAA+B,EAApD;AACA,WAAM6B,uBAAuB,EAA7B;AACA,WAAMC,2BAA2B,EAAjC;;AAEA;AACAH,sBAAe9L,OAAf,CAAuB,UAACqN,SAAD,EAAe;AACpC,gBAAKC,uBAAL,CAA6BtB,oBAA7B,EAAmDF,cAAnD,EAAmEuB,SAAnE,EAA8EnB,qBAA9E;AACD,QAFD;;AAIAL,uBAAgB7L,OAAhB,CAAwB,UAACC,aAAD,EAAmB;AACzC,aAAIA,kBAAkB,MAAtB,EAA8B;AAC5B;AACD;;AAED,aAAMsN,gBAAgB1D,SAAS5J,aAAT,CAAtB;;AAEA,aAAI,CAACsN,aAAL,EAAoB;AAClB;AACD;;AAED,aAAIC,qBAAqBD,cAAc/G,MAAvC;;AAEA,cAAK,IAAIiH,IAAI,CAAb,EAAgBA,IAAID,kBAApB,EAAwCC,GAAxC,EAA6C;AAC3C,eAAM1M,SAASwM,cAAcE,CAAd,CAAf;;AAEA,eAAI1M,OAAOoJ,IAAP,IAAe,IAAnB,EAAyB;AACvB,oBAAKmD,uBAAL,CAA6BtB,oBAA7B,EAAmDF,cAAnD,EAAmE/K,MAAnE,EAA2EmL,qBAA3E;AACD,YAFD,MAEO;AACLD,sCAAyBlL,OAAOC,WAAhC,IAA+CiL,yBAAyBlL,OAAOC,WAAhC,KAAgD,EAA/F;AACAiL,sCAAyBlL,OAAOC,WAAhC,EAA6CpB,IAA7C,CAAkDmB,MAAlD;AACD;AACF;AACF,QAvBD;;AAyBA,YAAK2M,aAAL,CACE9B,QADF,EAEEC,eAFF,EAGEC,cAHF,EAIEjC,SAASM,IAJX,EAKE6B,oBALF,EAMEC,wBANF,EAOEC,qBAPF;;AAUA,cAAON,QAAP;AACD;;;8BAES;AAAA;;AAAA,WACA1H,eADA,GACoB,KAAKtC,KADzB,CACAsC,eADA;;;AAGR,cACE;AAAA;AAAA,WAAK,OAAOA,eAAZ;AAKGsF,yBAAMmE,YAAN,CAAmB,KAAK/L,KAAL,CAAWgM,QAA9B,EAAwC,EAAxC,EAA4C,gBAOvC;AAAA,eANJC,iBAMI,QANJA,iBAMI;AAAA,eALJC,UAKI,QALJA,UAKI;AAAA,eAJJC,eAII,QAJJA,eAII;AAAA,eAHJ7B,qBAGI,QAHJA,qBAGI;AAAA,eAFJnM,UAEI,QAFJA,UAEI;AAAA,eADJ8J,QACI,QADJA,QACI;AAAA,eACI2B,cADJ,GACuB,OAAK3J,KAD5B,CACI2J,cADJ;;;AAGJ,eAAI,CAACA,cAAL,EAAqB;AACnB,oBAAOqC,kBAAkB9N,UAAlB,EAA8B8J,QAA9B,CAAP;AACD;;AAED,kBAAOiE,WAAW,OAAKE,kBAAL,CAAwBD,gBAAgBhO,UAAhB,CAAxB,EAAqD8J,QAArD,EAA+DqC,qBAA/D,CAAX,CAAP;AACD,UAfA;AALH,QADF;AAwBD;;;;GA/QkCtI,gB;;mBAkRtBzC,sB;;;;;;;;;;;;ACzRf;;;;;;AAEA,KAAMf,UAAU,qBAAhB;;mBAEeA,O;;;;;;ACJf,eAAc,iCAAiC,iBAAiB,0BAA0B,mBAAmB,yCAAyC,oBAAoB,mCAAmC,KAAK,uCAAuC,OAAO,IAAI;AACpQ,iC;;;;;;;;;;;;mBCAe,UAAC6N,MAAD,EAASC,UAAT,EAAwB;AACrC,OAAI9B,YAAJ;;AAEA,OAAM+B,QAAQF,OAAOG,IAAP,CAAY,UAACC,QAAD,EAAc;AACtCjC,WAAMiC,QAAN;AACA,YAAOA,SAASjE,OAAT,KAAqB8D,UAA5B;AACD,IAHa,CAAd;;AAKA,OAAIC,KAAJ,EAAW;AACT,YAAO/B,GAAP;AACD;;AAED,UAAOtB,SAAP;AACD,E;;;;;;;;ACbD,KAAMM,iBAAiB,uBAAvB;AACA,KAAMC,gBAAgB,MAAtB;AACA,KAAMiD,mBAAmB,CAAClD,cAAD,EAAiBC,aAAjB,CAAzB;;AAEAkD,QAAOC,OAAP,CAAeC,OAAf,GAAyBH,gBAAzB;AACAC,QAAOC,OAAP,CAAepD,cAAf,GAAgCA,cAAhC;AACAmD,QAAOC,OAAP,CAAenD,aAAf,GAA+BA,aAA/B,C;;;;;;;;;;;;;;ACPA;;;;AACA;;KAAYvM,a;;AACZ;;;;AACA;;;;;;;;;;;;;;KAEMwC,kC;;;AACJ,+CAAaM,KAAb,EAAoB;AAAA;;AAAA,yKACZA,KADY;;AAGlB,WAAK8M,4BAAL,GAAoC,MAAKA,4BAAL,CAAkC9G,IAAlC,OAApC;AAHkB;AAInB;;;;kDAE6BzC,E,EAAI;AAChCA,UAAGwJ,eAAH;;AAEA;AACAvO,yBAAQwO,IAAR,CAAa,+BAAb,EAA8C,CAAC9P,cAAcyB,OAA7D;AACA,YAAKqB,KAAL,CAAWiN,SAAX;AACD;;;8BAES;AACR,cACE;AAAA;AAAA;AACE,kBAAM,yCADR;AAEE,kBAAO,EAAEnL,SAAS,cAAX,EAFT;AAGE,oBAAS,KAAKgL;AAHhB;AAKE;AAAA;AAAA;AACE,oBAAO,EAAEhL,SAAS,cAAX,EAA2BwH,aAAa,QAAxC,EADT;AAEE,wBAAWpM,cAAcyB,OAAd,GAAwBgI,qCAAOuG,MAA/B,GAAwC;AAFrD;AAIE,mDAAM,WAAU,YAAhB;AAJF,UALF;AAWE;AAAA;AAAA,aAAM,OAAO,EAAEpL,SAAS,cAAX,EAAb;AAAA;AAAA;AAXF,QADF;AAiBD;;;;GAjC8CE,gB;;mBAoClCtC,kC;;;;;;;;;;;ACxCR,KAAIf,kCAAJ;AACA,KAAIE,wCAAJ,C;;;;;;ACFP;;AAEA;AACA;AACA;AACA;AACA,iDAAgF;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;ACpBA;AACA;;;AAGA;AACA,4CAA2C,qCAAqC,GAAG,UAAU,uGAAuG,YAAY,8EAA8E,qCAAqC,GAAG,+BAA+B;;AAErW;AACA;AACA;AACA,G;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA,yCAAwC,gBAAgB;AACxD,KAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA,aAAY,oBAAoB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACjDA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,sBAAsB;AACtC;AACA;AACA,mBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA,kBAAiB,2BAA2B;AAC5C;AACA;AACA,SAAQ,uBAAuB;AAC/B;AACA;AACA,IAAG;AACH;AACA,kBAAiB,uBAAuB;AACxC;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA,iCAAgC,sBAAsB;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAE;AACF;A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","file":"./studio/main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap dd56b98624e4e5ca69e8\n **/","import Studio from 'jsreport-studio'\nimport NewTagModal from './NewTagModal'\nimport TagEditor from './TagEditor'\nimport TagProperties from './TagProperties'\nimport EntityTagProperties from './EntityTagProperties'\nimport EntityTreeTagOrganizer from './EntityTreeTagOrganizer'\nimport TagEntityTreeOrganizeButtonToolbar from './TagEntityTreeOrganizeButtonToolbar'\nimport TagEntityTreeFilterButtonToolbar from './TagEntityTreeFilterButtonToolbar'\nimport TagEntityTreeItem from './TagEntityTreeItem'\nimport TagEntityTreeTagGroupItem from './TagEntityTreeTagGroupItem'\nimport emitter from './emitter'\nimport * as organizeState from './organizeState'\nimport filterItemWithTagsStrategy from './filterItemWithTagsStrategy'\n\nStudio.addEntitySet({\n  name: 'tags',\n  faIcon: 'fa-tag',\n  visibleName: 'tag',\n  onNew: (options) => Studio.openModal(NewTagModal, options),\n  helpUrl: 'http://jsreport.net/learn/tags',\n  referenceAttributes: ['color'],\n  entityTreePosition: 300\n})\n\n// wait for all extensions to be loaded\nStudio.initializeListeners.push(() => {\n  // add tags to referenceAttributes in all entities\n  Object.keys(Studio.entitySets).forEach((entitySetName) => {\n    let entitySet = Studio.entitySets[entitySetName]\n\n    // ignore tags entity set\n    if (entitySet.name === 'tags') {\n      return\n    }\n\n    if (entitySet.referenceAttributes.indexOf('tags') === -1) {\n      entitySet.referenceAttributes.push('tags')\n    }\n  })\n})\n\nemitter.on('organizationModeByTagsChanged', (organizationMode) => { organizeState.current = organizationMode })\nemitter.on('filterByTagsChanged', (selectedTags) => { organizeState.filterTags = selectedTags })\n\nStudio.addEditorComponent('tags', TagEditor)\nStudio.addPropertiesComponent(TagProperties.title, TagProperties, (entity) => entity.__entitySet === 'tags')\nStudio.addPropertiesComponent(EntityTagProperties.title, EntityTagProperties, (entity) => entity.__entitySet !== 'tags')\n\nStudio.addEntityTreeWrapperComponent(EntityTreeTagOrganizer)\n\nStudio.addEntityTreeToolbarComponent(TagEntityTreeFilterButtonToolbar, 'group')\nStudio.addEntityTreeToolbarComponent(TagEntityTreeOrganizeButtonToolbar, 'group')\n\nStudio.addEntityTreeItemComponent(TagEntityTreeItem)\nStudio.addEntityTreeItemComponent(TagEntityTreeTagGroupItem, 'groupRight')\n\nStudio.entityTreeFilterItemResolvers.push(filterItemWithTagsStrategy)\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/main_dev.js\n **/","module.exports = Studio;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Studio\"\n ** module id = 1\n ** module chunks = 0\n **/","import React, { Component, PropTypes } from 'react'\r\nimport Studio from 'jsreport-studio'\r\nimport ColorPicketTrigger from './ColorPickerTrigger'\r\n\r\nexport default class NewTagModal extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      displayColorPicker: false,\r\n      selectedColor: '',\r\n      error: null\r\n    }\r\n  }\r\n\r\n  // the modal component for some reason after open focuses the panel itself\r\n  componentDidMount () {\r\n    setTimeout(() => this.refs.name.focus(), 0)\r\n  }\r\n\r\n  handleKeyPress (e) {\r\n    if (e.key === 'Enter') {\r\n      this.createTag()\r\n    }\r\n  }\r\n\r\n  async createTag () {\r\n    let entity = {}\r\n\r\n    if (!this.refs.name.value) {\r\n      return this.setState({\r\n        error: 'name field cannot be empty'\r\n      })\r\n    }\r\n\r\n    if (!this.state.selectedColor) {\r\n      return this.setState({\r\n        error: 'color field cannot be empty'\r\n      })\r\n    }\r\n\r\n    if (this.props.options.defaults != null) {\r\n      entity = Object.assign(entity, this.props.options.defaults)\r\n    }\r\n\r\n    entity.name = this.refs.name.value\r\n    entity.color = this.state.selectedColor\r\n    entity.description = this.refs.description.value\r\n\r\n    try {\r\n      let response = await Studio.api.post('/odata/tags', {\r\n        data: entity\r\n      })\r\n\r\n      response.__entitySet = 'tags'\r\n\r\n      Studio.addExistingEntity(response)\r\n      Studio.openTab(response)\r\n      this.props.close()\r\n    } catch (e) {\r\n      this.setState({\r\n        error: e.message\r\n      })\r\n    }\r\n  }\r\n\r\n  render () {\r\n    const {\r\n      displayColorPicker,\r\n      selectedColor,\r\n      error\r\n    } = this.state\r\n\r\n    return (\r\n      <div>\r\n        <div className='form-group'>\r\n          <label>Name</label>\r\n          <input type='text' name='name' ref='name' placeholder='tag name...' onKeyPress={(e) => this.handleKeyPress(e)} />\r\n        </div>\r\n        <div className='form-group'>\r\n          <label>Color</label>\r\n\r\n          <div>\r\n            <ColorPicketTrigger\r\n              displayColorPicker={displayColorPicker}\r\n              containerStyles={{ border: '1px dashed #000' }}\r\n              color={selectedColor}\r\n              onClickColorTrigger={() => this.setState({ displayColorPicker: true })}\r\n              onCloseColorPicker={() => this.setState({ displayColorPicker: false })}\r\n              onInputChange={(colorInputValue) => colorInputValue !== selectedColor && this.setState({ selectedColor: colorInputValue })}\r\n              onChangeSelectionColor={(colorHex) => this.setState({ selectedColor: colorHex })}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className='form-group'>\r\n          <label>Description</label>\r\n          <textarea\r\n            name='description'\r\n            ref='description'\r\n            placeholder='You can add more details about this tag here...'\r\n            rows='4'\r\n            style={{ resize: 'vertical' }}\r\n          />\r\n        </div>\r\n        <div className='form-group'>\r\n          <span\r\n            style={{color: 'red', display: error ? 'block' : 'none'}}>{error}</span>\r\n        </div>\r\n        <div className='form-group' style={{opacity: 0.8}}>\r\n          <hr />\r\n          <span>\r\n            You can use tags to organize jsreport objects.<br />\r\n            This can be for example a tag to organize and group related templates, images, data, scripts, assets, etc. <br />\r\n            See the <a target='_blank' title='Help' href='http://jsreport.net/learn/tags'>documentation</a> for details.\r\n          </span>\r\n        </div>\r\n        <div className='button-bar'>\r\n          <button onClick={() => this.createTag()} className={'button confirmation'}>Ok</button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nNewTagModal.propTypes = {\r\n  close: PropTypes.func.isRequired\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/NewTagModal.js\n **/","module.exports = Studio.libraries['react'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Studio.libraries['react']\"\n ** module id = 3\n ** module chunks = 0\n **/","import React, { PropTypes } from 'react'\nimport { Popover } from 'jsreport-studio'\nimport ShowColor from './ShowColor'\nimport ColorPicker from './ColorPicker'\n\nconst ColorPicketTrigger = (props) => {\n  const {\n    displayColorPicker,\n    color,\n    containerStyles,\n    onClickColorTrigger,\n    onInputChange,\n    onChangeSelectionColor,\n    onCloseColorPicker,\n    translateXColorPickerFromTrigger,\n    translateYColorPickerFromTrigger\n  } = props\n\n  const containerTriggerPickerStyles = {\n    display: 'inline-block',\n    height: '32px',\n    padding: '5px'\n  }\n\n  const defaultContainerStyles = {\n    display: 'inline-block'\n  }\n\n  const currentColor = color || ''\n  const currentContainerStyles = Object.assign({}, defaultContainerStyles, containerStyles)\n\n  let colorPickerContainerStyles = {}\n\n  if (translateXColorPickerFromTrigger || translateYColorPickerFromTrigger) {\n    let transformValue = ''\n\n    if (translateXColorPickerFromTrigger) {\n      transformValue += `translateX(${translateXColorPickerFromTrigger}) `\n    }\n\n    if (translateYColorPickerFromTrigger) {\n      transformValue += `translateY(${translateYColorPickerFromTrigger}) `\n    }\n\n    colorPickerContainerStyles.transform = transformValue\n  }\n\n  return (\n    <div style={currentContainerStyles}>\n      <span style={containerTriggerPickerStyles}>\n        <span style={{ display: 'inline-block' }}>\n          <ShowColor color={currentColor} />&nbsp;\n          <input\n            type='text'\n            value={currentColor}\n            style={{ width: '90px' }}\n            maxLength={7}\n            placeholder='#006600'\n            onFocus={onClickColorTrigger}\n            onChange={(ev) => typeof onInputChange === 'function' && onInputChange(ev.target.value)}\n          />\n        </span>\n      </span>\n      <Popover\n        wrapper={false}\n        open={displayColorPicker}\n        onClose={onCloseColorPicker}\n      >\n        <div style={colorPickerContainerStyles}>\n          <ColorPicker\n            color={currentColor}\n            onChangeComplete={(color) => typeof onChangeSelectionColor === 'function' && onChangeSelectionColor(color.hex)}\n          />\n        </div>\n      </Popover>\n    </div>\n  )\n}\n\nColorPicketTrigger.propTypes = {\n  displayColorPicker: PropTypes.bool.isRequired,\n  color: PropTypes.string,\n  containerStyles: PropTypes.object,\n  onClickColorTrigger: PropTypes.func,\n  onCloseColorPicker: PropTypes.func.isRequired,\n  onInputChange: PropTypes.func,\n  onChangeSelectionColor: PropTypes.func,\n  // i know.. it is a shame to decide the position of the color picker\n  // in this way, maybe in the future it can be calculated based\n  // on the position of the button trigger\n  // using a \"position\" prop to specify the direction\n  translateXColorPickerFromTrigger: PropTypes.string,\n  translateYColorPickerFromTrigger: PropTypes.string\n}\n\nexport default ColorPicketTrigger\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/ColorPickerTrigger.js\n **/","import React, { PropTypes } from 'react'\nimport simpleCheckForValidColor from './simpleCheckForValidColor'\nimport colorLuminance from './colorLuminance'\n\nconst ShowColor = (props) => {\n  const {\n    color,\n    height = 15,\n    width = 20\n  } = props\n\n  let borderColor = props.borderColor\n  let currentColor = 'inherit'\n\n  if (simpleCheckForValidColor(color)) {\n    currentColor = color\n  }\n\n  if (!borderColor) {\n    borderColor = colorLuminance(currentColor, -0.35)\n  }\n\n  return (\n    <span style={{\n      backgroundColor: currentColor,\n      borderWidth: '1px',\n      borderStyle: 'solid',\n      borderColor: borderColor,\n      display: 'inline-block',\n      height: height,\n      verticalAlign: 'middle',\n      width: width\n    }} />\n  )\n}\n\nShowColor.propTypes = {\n  color: PropTypes.string.isRequired,\n  borderColor: PropTypes.string,\n  height: PropTypes.number,\n  width: PropTypes.number\n}\n\nexport default ShowColor\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/ShowColor.js\n **/","const HEX_COLOR_REGEXP = /^#[0-9A-F]{6}$/i\n\nconst simpleCheckForValidColor = (color) => {\n  return HEX_COLOR_REGEXP.test(color)\n}\n\nexport default simpleCheckForValidColor\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/simpleCheckForValidColor.js\n **/","\nexport default (hex, lum) => {\n  const selectedLum = lum || 0\n  let selectedHex\n\n  selectedHex = String(hex).replace(/[^0-9a-f]/gi, '')\n\n  if (selectedHex.length < 6) {\n    selectedHex = selectedHex[0] + selectedHex[0] + selectedHex[1] + selectedHex[1] + selectedHex[2] + selectedHex[2]\n  }\n\n  // convert to decimal and change luminosity\n  let rgb = '#'\n  let c\n  let i\n\n  for (i = 0; i < 3; i++) {\n    c = parseInt(selectedHex.substr(i * 2, 2), 16)\n    c = Math.round(Math.min(Math.max(0, c + (c * selectedLum)), 255)).toString(16)\n    rgb += ('00' + c).substr(c.length)\n  }\n\n  return rgb\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/colorLuminance.js\n **/","\nimport ColorWrap from './ColorWrap'\nimport Picker from './Picker'\n\nexport default ColorWrap(Picker)\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/ColorPicker/index.js\n **/","\r\nimport React, { Component, PureComponent } from 'react'\r\nimport debounce from 'lodash.debounce'\r\nimport simpleCheckForValidColor from '../simpleCheckForValidColor'\r\n\r\nconst colorToState = (data) => {\r\n  const color = data.hex ? data.hex : data\r\n\r\n  return {\r\n    hex: `${color}`\r\n  }\r\n}\r\n\r\nconst ColorWrap = (Picker) => {\r\n  class ColorPicker extends (PureComponent || Component) {\r\n    constructor (props) {\r\n      super(props)\r\n\r\n      this.state = {\r\n        ...colorToState(props.color),\r\n        visible: props.display\r\n      }\r\n\r\n      this.debounce = debounce((fn, data, event) => {\r\n        fn(data, event)\r\n      }, 100)\r\n\r\n      this.handleChange = this.handleChange.bind(this)\r\n    }\r\n\r\n    componentWillReceiveProps (nextProps) {\r\n      this.setState({\r\n        ...colorToState(nextProps.color),\r\n        visible: nextProps.display\r\n      })\r\n    }\r\n\r\n    handleChange (data, event) {\r\n      const isValidColor = simpleCheckForValidColor(data.hex)\r\n\r\n      if (isValidColor) {\r\n        const colors = colorToState(data)\r\n        this.setState(colors)\r\n        this.props.onChangeComplete && this.debounce(this.props.onChangeComplete, colors, event)\r\n        this.props.onChange && this.props.onChange(colors, event)\r\n      }\r\n    }\r\n\r\n    render () {\r\n      return (\r\n        <Picker\r\n          {...this.props}\r\n          {...this.state}\r\n          onChange={this.handleChange}\r\n        />\r\n      )\r\n    }\r\n  }\r\n\r\n  ColorPicker.defaultProps = {\r\n    color: ''\r\n  }\r\n\r\n  return ColorPicker\r\n}\r\n\r\nexport default ColorWrap\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/ColorPicker/ColorWrap.js\n **/","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash.debounce/index.js\n ** module id = 10\n ** module chunks = 0\n **/","\nimport handleHover from './utils/handleHover'\nimport Swatch from './Swatch'\n\nconst PickerSwatch = handleHover(({ hover, color, onClick }) => {\n  const styles = {\n    swatch: {\n      width: '25px',\n      height: '25px'\n    }\n  }\n\n  if (hover) {\n    styles.swatch = {\n      ...styles.swatch,\n      position: 'relative',\n      zIndex: '2',\n      outline: '2px solid #fff',\n      boxShadow: '0 0 5px 2px rgba(0,0,0,0.25)'\n    }\n  }\n\n  return (\n    <div style={styles.swatch}>\n      <Swatch color={color} onClick={onClick} />\n    </div>\n  )\n})\n\nconst Picker = ({ width, colors, onChange, triangle }) => {\n  const styles = {\n    card: {\n      width,\n      background: '#fff',\n      border: '1px solid rgba(0,0,0,0.2)',\n      boxShadow: '0 3px 12px rgba(0,0,0,0.15)',\n      borderRadius: '4px',\n      position: 'relative',\n      padding: '5px',\n      display: 'flex',\n      flexWrap: 'wrap'\n    }\n  }\n  const handleChange = (hex, e) => onChange({ hex, source: 'hex' }, e)\n\n  return (\n    <div style={styles.card}>\n      {colors.map((c) => (\n        <PickerSwatch color={c} key={c} onClick={handleChange} />\n      ))}\n    </div>\n  )\n}\n\nPicker.defaultProps = {\n  width: '200px',\n  colors: [\n    '#B80000', '#DB3E00', '#FCCB00', '#008B02', '#006B76',\n    '#1273DE', '#004DCF', '#5300EB', '#EB9694', '#FAD0C3',\n    '#FEF3BD', '#C1E1C5', '#BEDADC', '#C4DEF6'\n  ]\n}\n\nexport default Picker\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/ColorPicker/Picker.js\n **/","import React from 'react'\r\n\r\nconst handleHover = (Component, Span = 'span') => {\r\n  return class Hover extends React.Component {\r\n    constructor (props) {\r\n      super(props)\r\n\r\n      this.state = { hover: false }\r\n\r\n      this.handleMouseOver = this.handleMouseOver.bind(this)\r\n      this.handleMouseOut = this.handleMouseOut.bind(this)\r\n    }\r\n\r\n    handleMouseOver () {\r\n      this.setState({ hover: true })\r\n    }\r\n    handleMouseOut () {\r\n      this.setState({ hover: false })\r\n    }\r\n\r\n    render () {\r\n      return <Span onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\r\n        <Component {...this.props} {...this.state} />\r\n      </Span>\r\n    }\r\n  }\r\n}\r\n\r\nexport default handleHover\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/ColorPicker/utils/handleHover.js\n **/","\nconst Swatch = ({ color, style, onClick, title = color }) => {\n  const styles = {\n    swatch: {\n      background: color,\n      height: '100%',\n      width: '100%',\n      cursor: 'pointer'\n    }\n  }\n\n  const handleClick = (e) => onClick(color, e)\n\n  return (\n    <div style={styles.swatch} onClick={handleClick} title={title} />\n  )\n}\n\nexport default Swatch\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/ColorPicker/Swatch.js\n **/","import React, { Component, PropTypes } from 'react'\r\nimport ShowColor from './ShowColor'\r\n\r\nexport default class TagEditor extends Component {\r\n  render () {\r\n    const { entity } = this.props\r\n\r\n    return (\r\n      <div className='custom-editor'>\r\n        <div>\r\n          <h1><i className='fa fa-tag' /> {entity.name}</h1>\r\n        </div>\r\n        <div>\r\n          Description: <br />\r\n          <p>{entity.description || <i>(no description for this tag)</i>}</p>\r\n        </div>\r\n        <div>\r\n          Color: <ShowColor color={entity.color} />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nTagEditor.propTypes = {\r\n  entity: PropTypes.object.isRequired\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/TagEditor.js\n **/","import React, { Component } from 'react'\nimport ShowColor from './ShowColor'\nimport ColorPicketTrigger from './ColorPickerTrigger'\n\nexport default class TagProperties extends Component {\n  static title (entity, entities) {\n    return (\n      <span>\n        <span>\n          tag (color: {<ShowColor color={entity.color} width={15} height={15} />})\n        </span>\n      </span>\n    )\n  }\n\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      displayColorPicker: false\n    }\n  }\n\n  render () {\n    const { displayColorPicker } = this.state\n    const { entity, onChange } = this.props\n\n    return (\n      <div className='properties-section'>\n        <div className='form-group'>\n          <label>Color</label>\n\n          <div>\n            <ColorPicketTrigger\n              displayColorPicker={displayColorPicker}\n              containerStyles={{ border: '1px dashed #000' }}\n              color={entity.color}\n              onClickColorTrigger={() => this.setState({ displayColorPicker: true })}\n              onCloseColorPicker={() => this.setState({ displayColorPicker: false })}\n              onInputChange={(colorInputValue) => colorInputValue !== entity.color && onChange({ _id: entity._id, color: colorInputValue })}\n              onChangeSelectionColor={(colorHex) => onChange({ _id: entity._id, color: colorHex })}\n            />\n          </div>\n        </div>\n        <div className='form-group'>\n          <label>Description</label>\n          <textarea\n            rows='4'\n            style={{ resize: 'vertical' }}\n            value={entity.description || ''}\n            onChange={(v) => onChange({ _id: entity._id, description: v.target.value })}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/TagProperties.js\n **/","import React, { Component } from 'react'\nimport ShowColor from './ShowColor'\nimport Studio from 'jsreport-studio'\n\nconst EntityRefSelect = Studio.EntityRefSelect\n\nconst selectValues = (selected) => {\n  const tags = selected.map((v) => {\n    return { shortid: v.shortid }\n  })\n\n  return tags\n}\n\nexport default class EntityTagProperties extends Component {\n  static getSelectedTags (entity, entities) {\n    const getNameAndColor = (t) => {\n      const foundTags = Object.keys(entities).map((k) => entities[k]).filter((tg) => tg.shortid === t.shortid)\n\n      return foundTags.length ? { name: foundTags[0].name, color: foundTags[0].color } : { name: '', color: undefined }\n    }\n\n    return (entity.tags || []).map((t) => ({\n      ...t,\n      ...getNameAndColor(t)\n    }))\n  }\n\n  static title (entity, entities) {\n    if (!entity.tags || !entity.tags.length) {\n      return 'tags'\n    }\n\n    return (\n      <span>\n        tags:&nbsp;\n        <span>\n          {\n            EntityTagProperties.getSelectedTags(entity, entities).map((t, tIndex, allSelectTags) => {\n              return (\n                <span key={t.name} style={{ display: 'inline-block', marginRight: '2px' }}>\n                  <ShowColor color={t.color} width={12} height={15} />\n                  &nbsp;\n                  {t.name}\n                  {tIndex === allSelectTags.length - 1 ? '' : ','}\n                </span>\n              )\n            })\n          }\n        </span>\n      </span>\n    )\n  }\n\n  componentDidMount () {\n    this.removeInvalidTagReferences()\n  }\n\n  componentDidUpdate () {\n    this.removeInvalidTagReferences()\n  }\n\n  removeInvalidTagReferences () {\n    const { entity, entities, onChange } = this.props\n\n    if (!entity.tags) {\n      return\n    }\n\n    const updatedTags = entity.tags.filter((t) => Object.keys(entities).filter((k) => entities[k].__entitySet === 'tags' && entities[k].shortid === t.shortid).length)\n\n    if (updatedTags.length !== entity.tags.length) {\n      onChange({ _id: entity._id, tags: updatedTags })\n    }\n  }\n\n  render () {\n    const { entity, onChange } = this.props\n\n    return (\n      <div className='properties-section'>\n        <div className='form-group'>\n          <EntityRefSelect\n            headingLabel='Select tags'\n            filter={(references) => ({ tags: references.tags })}\n            value={entity.tags ? entity.tags.map((t) => t.shortid) : []}\n            onChange={(selected) => onChange({ _id: entity._id, tags: selectValues(selected) })}\n            multiple\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/EntityTagProperties.js\n **/","import React, { Component } from 'react'\nimport Studio from 'jsreport-studio'\nimport emitter from './emitter'\nimport findTagInSet from './findTagInSet'\n\nconst { noTagGroupName, tagsGroupName } = require('../shared/reservedTagNames')\n\nclass EntityTreeTagOrganizer extends Component {\n  constructor () {\n    super()\n\n    let organizeByDefault = Studio.extensions['tags'].options.organizeByDefault\n\n    if (organizeByDefault == null) {\n      organizeByDefault = false\n    }\n\n    this.state = {\n      organizeByTags: organizeByDefault\n    }\n\n    this.onOrganizationModeChange = this.onOrganizationModeChange.bind(this)\n  }\n\n  componentDidMount () {\n    emitter.on('organizationModeByTagsChanged', this.onOrganizationModeChange)\n  }\n\n  componentWillUnmount () {\n    emitter.off('organizationModeByTagsChanged', this.onOrganizationModeChange)\n  }\n\n  onOrganizationModeChange (organizeByTag) {\n    this.setState({\n      organizeByTags: organizeByTag\n    })\n  }\n\n  addItemsByTag (\n    newItems,\n    entitySetsNames,\n    allTagEntities,\n    currentTagEntities,\n    entitiesByTagAndType,\n    entitiesByTypeWithoutTag,\n    getEntityTypeNameAttr\n  ) {\n    const tagsWithNoEntities = []\n\n    allTagEntities.forEach((tag) => {\n      const tagName = getEntityTypeNameAttr(tag.__entitySet, tag)\n      const entitiesByType = entitiesByTagAndType[tagName]\n      const typesInTag = Object.keys(entitiesByType)\n\n      if (\n        typesInTag.length === 0 ||\n        typesInTag.every((type) => entitiesByType[type].length > 0) === false\n      ) {\n        tagsWithNoEntities.push(tag)\n        return\n      }\n\n      let tagItem\n\n      entitySetsNames.forEach((type) => {\n        if (type === 'tags') {\n          return\n        }\n\n        const entities = entitiesByType[type]\n        let typeItem\n\n        if (!tagItem) {\n          tagItem = {\n            name: tagName,\n            isGroup: true,\n            data: tag,\n            items: []\n          }\n\n          newItems.push(tagItem)\n        }\n\n        if (!entities || entities.length === 0) {\n          tagItem.items.push({\n            name: type,\n            isEntitySet: true,\n            items: []\n          })\n\n          return\n        }\n\n        typeItem = {\n          name: type,\n          isEntitySet: true,\n          items: []\n        }\n\n        entities.forEach((entity) => {\n          typeItem.items.push({\n            name: getEntityTypeNameAttr(entity.__entitySet, entity),\n            data: entity\n          })\n        })\n\n        tagItem.items.push(typeItem)\n      })\n    })\n\n    tagsWithNoEntities.forEach((tag) => {\n      const tagItem = {\n        name: getEntityTypeNameAttr(tag.__entitySet, tag),\n        isGroup: true,\n        data: tag,\n        items: []\n      }\n\n      entitySetsNames.forEach((type) => {\n        if (type === 'tags') {\n          return\n        }\n\n        tagItem.items.push({\n          name: type,\n          isEntitySet: true,\n          items: []\n        })\n      })\n\n      newItems.push(tagItem)\n    })\n\n    const noTagsItem = {\n      name: noTagGroupName,\n      isGroup: true,\n      items: []\n    }\n\n    entitySetsNames.forEach((type) => {\n      if (type === 'tags') {\n        return\n      }\n\n      const item = {\n        name: type,\n        isEntitySet: true,\n        items: []\n      }\n\n      const entities = entitiesByTypeWithoutTag[type]\n\n      if (entities) {\n        entities.forEach((entity) => {\n          item.items.push({\n            name: getEntityTypeNameAttr(entity.__entitySet, entity),\n            data: entity\n          })\n        })\n      }\n\n      noTagsItem.items.push(item)\n    })\n\n    newItems.push(noTagsItem)\n\n    const tagsItem = {\n      name: tagsGroupName,\n      isEntitySet: true,\n      items: []\n    }\n\n    if (currentTagEntities) {\n      currentTagEntities.forEach((tag) => {\n        tagsItem.items.push({\n          name: getEntityTypeNameAttr(tag.__entitySet, tag),\n          data: tag\n        })\n      })\n    }\n\n    newItems.push(tagsItem)\n  }\n\n  groupEntityByTagAndType (collection, allTagEntities, entity, getEntityTypeNameAttr) {\n    if (entity.__entitySet === 'tags') {\n      const name = getEntityTypeNameAttr(entity.__entitySet, entity)\n      collection[name] = collection[name] || {}\n    } else if (entity.tags != null) {\n      entity.tags.forEach((tag) => {\n        const tagFound = findTagInSet(allTagEntities, tag.shortid)\n\n        if (tagFound) {\n          const name = getEntityTypeNameAttr(tagFound.__entitySet, tagFound)\n          collection[name] = collection[name] || []\n          collection[name][entity.__entitySet] = collection[name][entity.__entitySet] || []\n          collection[name][entity.__entitySet].push(entity)\n        }\n      })\n    }\n  }\n\n  groupEntitiesByTag (entitySetsNames, entities, getEntityTypeNameAttr) {\n    const newItems = []\n    let allTagEntities = Studio.getReferences().tags || []\n    const entitiesByTagAndType = {}\n    const entitiesByTypeWithoutTag = {}\n\n    // initialize all tag groups based on all tag entities\n    allTagEntities.forEach((entityTag) => {\n      this.groupEntityByTagAndType(entitiesByTagAndType, allTagEntities, entityTag, getEntityTypeNameAttr)\n    })\n\n    entitySetsNames.forEach((entitySetName) => {\n      if (entitySetName === 'tags') {\n        return\n      }\n\n      const entitiesInSet = entities[entitySetName]\n\n      if (!entitiesInSet) {\n        return\n      }\n\n      let entitiesInSetCount = entitiesInSet.length\n\n      for (let j = 0; j < entitiesInSetCount; j++) {\n        const entity = entitiesInSet[j]\n\n        if (entity.tags != null) {\n          this.groupEntityByTagAndType(entitiesByTagAndType, allTagEntities, entity, getEntityTypeNameAttr)\n        } else {\n          entitiesByTypeWithoutTag[entity.__entitySet] = entitiesByTypeWithoutTag[entity.__entitySet] || []\n          entitiesByTypeWithoutTag[entity.__entitySet].push(entity)\n        }\n      }\n    })\n\n    this.addItemsByTag(\n      newItems,\n      entitySetsNames,\n      allTagEntities,\n      entities.tags,\n      entitiesByTagAndType,\n      entitiesByTypeWithoutTag,\n      getEntityTypeNameAttr\n    )\n\n    return newItems\n  }\n\n  render () {\n    const { containerStyles } = this.props\n\n    return (\n      <div style={containerStyles}>\n        {/*\n          extending entity tree's react element to configure\n          custom rendering of items in tree\n        */}\n        {React.cloneElement(this.props.children, {}, ({\n          renderDefaultTree,\n          renderTree,\n          getSetsToRender,\n          getEntityTypeNameAttr,\n          entitySets,\n          entities\n        }) => {\n          const { organizeByTags } = this.state\n\n          if (!organizeByTags) {\n            return renderDefaultTree(entitySets, entities)\n          }\n\n          return renderTree(this.groupEntitiesByTag(getSetsToRender(entitySets), entities, getEntityTypeNameAttr))\n        })}\n      </div>\n    )\n  }\n}\n\nexport default EntityTreeTagOrganizer\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/EntityTreeTagOrganizer.js\n **/","import mitt from 'mitt'\n\nconst emitter = mitt()\n\nexport default emitter\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/emitter.js\n **/","function n(n){return n=n||Object.create(null),{on:function(c,e){(n[c]||(n[c]=[])).push(e)},off:function(c,e){n[c]&&n[c].splice(n[c].indexOf(e)>>>0,1)},emit:function(c,e){(n[c]||[]).slice().map(function(n){n(e)}),(n[\"*\"]||[]).slice().map(function(n){n(c,e)})}}}module.exports=n;\n//# sourceMappingURL=mitt.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/mitt/dist/mitt.js\n ** module id = 19\n ** module chunks = 0\n **/","\nexport default (tagSet, tagShortId) => {\n  let tag\n\n  const found = tagSet.some((tagInSet) => {\n    tag = tagInSet\n    return tagInSet.shortid === tagShortId\n  })\n\n  if (found) {\n    return tag\n  }\n\n  return undefined\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/findTagInSet.js\n **/","\r\nconst noTagGroupName = '(objects without tag)'\r\nconst tagsGroupName = 'tags'\r\nconst reservedTagNames = [noTagGroupName, tagsGroupName]\r\n\r\nmodule.exports.default = reservedTagNames\r\nmodule.exports.noTagGroupName = noTagGroupName\r\nmodule.exports.tagsGroupName = tagsGroupName\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/reservedTagNames.js\n **/","import React, { Component } from 'react'\nimport * as organizeState from './organizeState'\nimport emitter from './emitter'\nimport styles from './TagEntityTreeButtonToolbar.scss'\n\nclass TagEntityTreeOrganizeButtonToolbar extends Component {\n  constructor (props) {\n    super(props)\n\n    this.handleOrganizationModeChange = this.handleOrganizationModeChange.bind(this)\n  }\n\n  handleOrganizationModeChange (ev) {\n    ev.stopPropagation()\n\n    // notify parent that the organization mode has changed\n    emitter.emit('organizationModeByTagsChanged', !organizeState.current)\n    this.props.closeMenu()\n  }\n\n  render () {\n    return (\n      <div\n        title='Group and organize entities tree by tag'\n        style={{ display: 'inline-block' }}\n        onClick={this.handleOrganizationModeChange}\n      >\n        <span\n          style={{ display: 'inline-block', marginRight: '0.3rem' }}\n          className={organizeState.current ? styles.active : ''}\n        >\n          <span className='fa fa-tags' />\n        </span>\n        <span style={{ display: 'inline-block' }}>\n          Group by tag\n        </span>\n      </div>\n    )\n  }\n}\n\nexport default TagEntityTreeOrganizeButtonToolbar\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/TagEntityTreeOrganizeButtonToolbar.js\n **/","\nexport let current\nexport let filterTags\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/organizeState.js\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js?modules&importLoaders=2&sourceMap&localIdentName=[local]___[hash:base64:5]!./../node_modules/postcss-loader/index.js!./../node_modules/sass-loader/index.js?outputStyle=expanded&sourceMap!./TagEntityTreeButtonToolbar.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js?modules&importLoaders=2&sourceMap&localIdentName=[local]___[hash:base64:5]!./../node_modules/postcss-loader/index.js!./../node_modules/sass-loader/index.js?outputStyle=expanded&sourceMap!./TagEntityTreeButtonToolbar.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js?modules&importLoaders=2&sourceMap&localIdentName=[local]___[hash:base64:5]!./../node_modules/postcss-loader/index.js!./../node_modules/sass-loader/index.js?outputStyle=expanded&sourceMap!./TagEntityTreeButtonToolbar.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./studio/TagEntityTreeButtonToolbar.scss\n ** module id = 24\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".active___1BBgh {\\n  border-bottom: 0.1rem solid #000;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/./studio/studio/TagEntityTreeButtonToolbar.scss\"],\"names\":[],\"mappings\":\"AACA;EACE,iCAAgC;CACjC\",\"file\":\"TagEntityTreeButtonToolbar.scss\",\"sourcesContent\":[\"\\n.active {\\n  border-bottom: 0.1rem solid #000;\\n}\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\n// exports\nexports.locals = {\n\t\"active\": \"active___1BBgh\"\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader?modules&importLoaders=2&sourceMap&localIdentName=[local]___[hash:base64:5]!./~/postcss-loader!./~/sass-loader?outputStyle=expanded&sourceMap!./studio/TagEntityTreeButtonToolbar.scss\n ** module id = 25\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader/lib/css-base.js\n ** module id = 26\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/style-loader/addStyles.js\n ** module id = 27\n ** module chunks = 0\n **/","import React, { Component } from 'react'\nimport Studio, { Popover } from 'jsreport-studio'\nimport * as organizeState from './organizeState'\nimport emitter from './emitter'\nimport TagEntityTreeFilterByTags from './TagEntityTreeFilterByTags'\nimport styles from './TagEntityTreeButtonToolbar.scss'\n\nclass TagEntityTreeFilterButtonToolbar extends Component {\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      showFilter: false,\n      selectedTags: organizeState.filterTags || []\n    }\n\n    this.openFilter = this.openFilter.bind(this)\n    this.closeFilter = this.closeFilter.bind(this)\n    this.handleTagSelectChange = this.handleTagSelectChange.bind(this)\n  }\n\n  openFilter (ev) {\n    ev.stopPropagation()\n    this.setState({ showFilter: true })\n  }\n\n  closeFilter () {\n    this.setState({ showFilter: false })\n    this.props.closeMenu()\n  }\n\n  handleTagSelectChange (selectedTags) {\n    const { setFilter } = this.props\n\n    setFilter({\n      tags: selectedTags\n    })\n\n    this.setState({\n      selectedTags\n    }, () => {\n      emitter.emit('filterByTagsChanged', selectedTags)\n    })\n  }\n\n  render () {\n    const { showFilter, selectedTags } = this.state\n    const allTags = Studio.getReferences().tags\n    const isActive = selectedTags.length > 0\n\n    return (\n      <div\n        title='Filter entities tree by tag'\n        style={{ display: 'inline-block' }}\n        onClick={this.openFilter}\n      >\n        <span style={{ display: 'inline-block' }}>\n          <span\n            style={{ display: 'inline-block', marginRight: '0.3rem' }}\n            className={isActive ? styles.active : ''}\n          >\n            <span className='fa fa-filter' />\n            &nbsp;\n            <span className='fa fa-tag' />\n          </span>\n          <span style={{ display: 'inline-block' }}>\n            Filter by tag\n          </span>\n        </span>\n        <Popover\n          open={showFilter}\n          onClose={this.closeFilter}\n        >\n          <TagEntityTreeFilterByTags\n            tags={allTags}\n            selectedTags={selectedTags}\n            onTagSelectChange={this.handleTagSelectChange}\n            onFilterClose={this.closeFilter}\n          />\n        </Popover>\n      </div>\n    )\n  }\n}\n\nexport default TagEntityTreeFilterButtonToolbar\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/TagEntityTreeFilterButtonToolbar.js\n **/","import React, { Component, PropTypes } from 'react'\nimport ReactList from 'react-list'\nimport colorLuminance from './colorLuminance'\nimport getColorLuminance from './getColorLuminance'\nimport ShowColor from './ShowColor'\nimport style from './TagEntityTreeFilterByTags.scss'\n\nclass TagEntityTreeFilterByTags extends Component {\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      showTagsList: true,\n      filterText: ''\n    }\n\n    this.createRenderer = this.createRenderer.bind(this)\n    this.addSelectedTag = this.addSelectedTag.bind(this)\n    this.onTagSelectionClick = this.onTagSelectionClick.bind(this)\n    this.onChangeInputTag = this.onChangeInputTag.bind(this)\n    this.onKeyDownInputTag = this.onKeyDownInputTag.bind(this)\n    this.onRemoveTagItem = this.onRemoveTagItem.bind(this)\n  }\n\n  componentDidMount () {\n    this.focus()\n  }\n\n  createRenderer (tags) {\n    return (index, key) => this.renderTagItem(tags[index])\n  }\n\n  addSelectedTag (tag) {\n    const previousSelectedTags = this.props.selectedTags\n\n    const selectedTags = [\n      ...previousSelectedTags,\n      tag\n    ]\n\n    this.props.onTagSelectChange(selectedTags)\n    this.focus()\n  }\n\n  focus () {\n    if (this.refs.tagSelectionInput && typeof this.refs.tagSelectionInput.focus === 'function') {\n      this.refs.tagSelectionInput.focus()\n    }\n  }\n\n  getTagsToShow (allTags, selectedTags, filterText) {\n    if (selectedTags.length === 0 && filterText === '') {\n      return allTags\n    }\n\n    return allTags.filter((tag) => {\n      let filterPass = true\n\n      if (filterText !== '') {\n        filterPass = tag.name.indexOf(filterText) !== -1\n      }\n\n      if (!filterPass) {\n        return false\n      }\n\n      const foundInSelectedTags = selectedTags.some((selectTag) => {\n        return selectTag.shortid === tag.shortid\n      })\n\n      return !foundInSelectedTags\n    })\n  }\n\n  onTagSelectionClick (ev) {\n    // if the tag selection area is directly clicked\n    // focus the input\n    if (ev.target === this.refs.tagSelection) {\n      this.focus()\n    }\n  }\n\n  onChangeInputTag (ev) {\n    this.setState({\n      filterText: ev.target.value\n    })\n  }\n\n  onKeyDownInputTag (ev) {\n    if (ev.defaultPrevented) {\n      return\n    }\n\n    let keyCode = ev.keyCode\n    let inputTag = ev.target\n    let remove = false\n    let enterKey = 13\n    let removeKey = 8\n\n    if (keyCode === enterKey) {\n      ev.preventDefault()\n\n      return this.props.onFilterClose()\n    }\n\n    if (keyCode === removeKey) {\n      remove = true\n    }\n\n    if (remove && inputTag.value === '') {\n      let selectedTags = this.props.selectedTags\n      let selectedTagsLastIndex = selectedTags.length - 1\n\n      ev.preventDefault()\n\n      if (selectedTagsLastIndex >= 0) {\n        this.onRemoveTagItem(selectedTags[selectedTagsLastIndex], selectedTagsLastIndex)\n      }\n    }\n  }\n\n  onRemoveTagItem (tag, tagIndex) {\n    const originalSelectedTags = this.props.selectedTags\n\n    const selectedTags = [\n      ...originalSelectedTags.slice(0, tagIndex),\n      ...originalSelectedTags.slice(tagIndex + 1)\n    ]\n\n    this.props.onTagSelectChange(selectedTags)\n  }\n\n  renderTagItem (tag) {\n    return (\n      <div\n        key={tag.shortid}\n        className={style.tagsListItem}\n        onClick={() => this.addSelectedTag(tag)}\n      >\n        <ShowColor color={tag.color} />\n        &nbsp;\n        <span>{tag.name}</span>\n      </div>\n    )\n  }\n\n  render () {\n    const { showTagsList, filterText } = this.state\n    const { tags, selectedTags } = this.props\n    const tagsToShowInList = this.getTagsToShow(tags, selectedTags, filterText)\n\n    let stylesForTagsList = {}\n    let stylesForInputTag = {}\n\n    if (showTagsList) {\n      stylesForTagsList.display = 'block'\n    } else {\n      stylesForTagsList.display = 'none'\n    }\n\n    if (selectedTags.length === 0) {\n      stylesForInputTag.width = '100%'\n    }\n\n    return (\n      <div className={style.searchTagsContainer}>\n        <div className={style.searchTagsInputBox}>\n          <div ref='tagSelection' className={style.tagsSelect} onClick={this.onTagSelectionClick}>\n            <span>\n              {selectedTags.map((tag, tagIndex) => {\n                const tagStyles = {\n                  backgroundColor: tag.color,\n                  borderColor: colorLuminance(tag.color, -0.35),\n                  color: getColorLuminance(tag.color) >= 0.5 ? '#000' : '#fff'\n                }\n\n                return (\n                  <span key={tag.shortid} className={style.tagsSelectItem} style={tagStyles}>\n                    {tag.name}\n                    <a className={style.tagsSelectItemRemove} onClick={() => this.onRemoveTagItem(tag, tagIndex)} />\n                  </span>\n                )\n              })}\n              <input\n                ref='tagSelectionInput'\n                type='text'\n                placeholder={selectedTags.length === 0 ? 'select a tag' : ''}\n                className={style.searchTags}\n                style={stylesForInputTag}\n                onChange={this.onChangeInputTag}\n                onKeyDown={this.onKeyDownInputTag}\n              />\n            </span>\n          </div>\n        </div>\n        <div\n          ref='tagList'\n          className={style.tagsListContainer}\n          style={stylesForTagsList}\n        >\n          <div className={style.tagsList}>\n            {tags.length === 0 ? (\n              <div className={style.tagsListEmpty}>\n                No tags registered\n              </div>\n            ) : (\n              <ReactList\n                itemRenderer={this.createRenderer(tagsToShowInList)}\n                length={tagsToShowInList.length}\n              />\n            )}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nTagEntityTreeFilterByTags.defaultProps = {\n  onTagSelectChange: () => {}\n}\n\nTagEntityTreeFilterByTags.propTypes = {\n  tags: PropTypes.arrayOf(PropTypes.shape({\n    shortid: PropTypes.string,\n    name: PropTypes.string,\n    color: PropTypes.string\n  })),\n  selectedTags: PropTypes.arrayOf(PropTypes.shape({\n    shortid: PropTypes.string,\n    name: PropTypes.string,\n    color: PropTypes.string\n  })),\n  onTagSelectChange: PropTypes.func,\n  onFilterClose: PropTypes.func\n}\n\nexport default TagEntityTreeFilterByTags\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/TagEntityTreeFilterByTags.js\n **/","module.exports = Studio.libraries['react-list'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Studio.libraries['react-list']\"\n ** module id = 30\n ** module chunks = 0\n **/","import hexToRgb from './hexToRgb'\n\nexport default (hex) => {\n  const rgb = hexToRgb(hex)\n\n  let RsRGB, GsRGB, BsRGB, R, G, B\n\n  RsRGB = rgb.r / 255\n  GsRGB = rgb.g / 255\n  BsRGB = rgb.b / 255\n\n  if (RsRGB <= 0.03928) {\n    R = RsRGB / 12.92\n  } else {\n    R = Math.pow(((RsRGB + 0.055) / 1.055), 2.4)\n  }\n\n  if (GsRGB <= 0.03928) {\n    G = GsRGB / 12.92\n  } else {\n    G = Math.pow(((GsRGB + 0.055) / 1.055), 2.4)\n  }\n\n  if (BsRGB <= 0.03928) {\n    B = BsRGB / 12.92\n  } else {\n    B = Math.pow(((BsRGB + 0.055) / 1.055), 2.4)\n  }\n\n  return (0.2126 * R) + (0.7152 * G) + (0.0722 * B)\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/getColorLuminance.js\n **/","\nconst shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i\n\nexport default (hex) => {\n  // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\n  let fullHex = hex.replace(shorthandRegex, function (m, r, g, b) {\n    return r + r + g + g + b + b\n  })\n\n  let result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(fullHex)\n\n  return result ? {\n    r: parseInt(result[1], 16),\n    g: parseInt(result[2], 16),\n    b: parseInt(result[3], 16)\n  } : null\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/hexToRgb.js\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js?modules&importLoaders=2&sourceMap&localIdentName=[local]___[hash:base64:5]!./../node_modules/postcss-loader/index.js!./../node_modules/sass-loader/index.js?outputStyle=expanded&sourceMap!./TagEntityTreeFilterByTags.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js?modules&importLoaders=2&sourceMap&localIdentName=[local]___[hash:base64:5]!./../node_modules/postcss-loader/index.js!./../node_modules/sass-loader/index.js?outputStyle=expanded&sourceMap!./TagEntityTreeFilterByTags.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js?modules&importLoaders=2&sourceMap&localIdentName=[local]___[hash:base64:5]!./../node_modules/postcss-loader/index.js!./../node_modules/sass-loader/index.js?outputStyle=expanded&sourceMap!./TagEntityTreeFilterByTags.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./studio/TagEntityTreeFilterByTags.scss\n ** module id = 33\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"@charset \\\"UTF-8\\\";\\n.searchTagsContainer___2CtsN {\\n  display: inline-block;\\n  margin-left: -0.3rem;\\n  margin-right: -0.3rem;\\n  position: relative;\\n}\\n\\n.searchTagsInputBox___3Mcro {\\n  display: inline-block;\\n  padding-left: 0.3rem;\\n  padding-right: 0.3rem;\\n  position: relative;\\n}\\n\\n.searchTagsInputBox___3Mcro:before {\\n  content: \\\"\\\\F02B\\\";\\n  margin-right: 0.3rem;\\n  color: #c6c6c6;\\n  font-family: FontAwesome;\\n  position: absolute;\\n}\\n\\n.searchTags___2UjPp {\\n  border: none;\\n  border-bottom-width: 0;\\n  transition: border 0.3s;\\n  padding: 0.2rem;\\n  width: 35px;\\n}\\n\\n.searchTags___2UjPp:focus,\\n.searchTags___2UjPp:hover {\\n  border-bottom-width: 0;\\n}\\n\\n.tagsListContainer___TqDs_ {\\n  display: block;\\n  max-height: 150px;\\n  position: relative;\\n}\\n\\n.tagsList___1XWCq {\\n  background-color: #fff;\\n  border: 1px solid rgba(0, 0, 0, 0.2);\\n  box-shadow: 0 3px 12px rgba(0, 0, 0, 0.15);\\n  display: inline-block;\\n  overflow: auto;\\n  position: absolute;\\n  top: 4px;\\n  width: 100%;\\n  z-index: 3;\\n}\\n\\n.tagsListEmpty___2YNU7 {\\n  padding-top: 0.4rem;\\n  padding-bottom: 0.4rem;\\n  text-align: center;\\n}\\n\\n.tagsListItem___29aX7 {\\n  color: #000;\\n  cursor: pointer;\\n  padding-bottom: 0.4rem;\\n  padding-left: 0.3rem;\\n  padding-right: 0.3rem;\\n  padding-top: 0.4rem;\\n}\\n\\n.tagsListItem___29aX7:hover {\\n  background-color: #1C97EA;\\n  color: #fff;\\n}\\n\\n.tagsSelect___2nOqo {\\n  display: inline-block;\\n  padding-left: 18px;\\n  width: 150px;\\n}\\n\\n.tagsSelectItem___1i0uy {\\n  border: 1px solid transparent;\\n  border-radius: 2px;\\n  display: inline-block;\\n  font-size: 0.75rem;\\n  font-weight: 400;\\n  margin-right: 0.3rem;\\n  padding-bottom: 0.1rem;\\n  padding-left: 0.2rem;\\n  padding-right: 0.2rem;\\n  padding-top: 0.1rem;\\n}\\n\\n.tagsSelectItemRemove___2mq5M {\\n  cursor: pointer;\\n  font-weight: bold;\\n}\\n\\n.tagsSelectItemRemove___2mq5M:before {\\n  content: \\\" \\\\D7\\\";\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/./studio/TagEntityTreeFilterByTags.scss\",\"/./studio/studio/TagEntityTreeFilterByTags.scss\"],\"names\":[],\"mappings\":\"AAAA,iBAAiB;ACCjB;EACE,sBAAqB;EACrB,qBAAoB;EACpB,sBAAqB;EACrB,mBAAkB;CACnB;;AAED;EACE,sBAAqB;EACrB,qBAAoB;EACpB,sBAAqB;EACrB,mBAAkB;CACnB;;AAED;EACE,iBAAgB;EAChB,qBAAoB;EACpB,eAAc;EACd,yBAAwB;EACxB,mBAAkB;CACnB;;AAED;EACE,aAAY;EACZ,uBAAsB;EACtB,wBAAuB;EACvB,gBAAe;EACf,YAAW;CACZ;;AAED;;EAEE,uBAAsB;CACvB;;AAED;EACE,eAAc;EACd,kBAAiB;EACjB,mBAAkB;CACnB;;AAED;EACE,uBAAsB;EACtB,qCAAgC;EAChC,2CAAsC;EACtC,sBAAqB;EACrB,eAAc;EACd,mBAAkB;EAClB,SAAQ;EACR,YAAW;EACX,WAAU;CACX;;AAED;EACE,oBAAmB;EACnB,uBAAsB;EACtB,mBAAkB;CACnB;;AAED;EACE,YAAW;EACX,gBAAe;EACf,uBAAsB;EACtB,qBAAoB;EACpB,sBAAqB;EACrB,oBAAmB;CACpB;;AAED;EACE,0BAAyB;EACzB,YAAW;CACZ;;AAED;EACE,sBAAqB;EACrB,mBAAkB;EAClB,aAAY;CACb;;AAED;EACE,8BAA6B;EAC7B,mBAAkB;EAClB,sBAAqB;EACrB,mBAAkB;EAClB,iBAAgB;EAChB,qBAAoB;EACpB,uBAAsB;EACtB,qBAAoB;EACpB,sBAAqB;EACrB,oBAAmB;CACpB;;AAED;EACE,gBAAe;EACf,kBAAiB;CAClB;;AAED;EACE,gBAAa;CACd\",\"file\":\"TagEntityTreeFilterByTags.scss\",\"sourcesContent\":[\"@charset \\\"UTF-8\\\";\\n.searchTagsContainer {\\n  display: inline-block;\\n  margin-left: -0.3rem;\\n  margin-right: -0.3rem;\\n  position: relative;\\n}\\n\\n.searchTagsInputBox {\\n  display: inline-block;\\n  padding-left: 0.3rem;\\n  padding-right: 0.3rem;\\n  position: relative;\\n}\\n\\n.searchTagsInputBox:before {\\n  content: \\\"\\\\f02b\\\";\\n  margin-right: 0.3rem;\\n  color: #c6c6c6;\\n  font-family: FontAwesome;\\n  position: absolute;\\n}\\n\\n.searchTags {\\n  border: none;\\n  border-bottom-width: 0;\\n  transition: border 0.3s;\\n  padding: 0.2rem;\\n  width: 35px;\\n}\\n\\n.searchTags:focus,\\n.searchTags:hover {\\n  border-bottom-width: 0;\\n}\\n\\n.tagsListContainer {\\n  display: block;\\n  max-height: 150px;\\n  position: relative;\\n}\\n\\n.tagsList {\\n  background-color: #fff;\\n  border: 1px solid rgba(0, 0, 0, 0.2);\\n  box-shadow: 0 3px 12px rgba(0, 0, 0, 0.15);\\n  display: inline-block;\\n  overflow: auto;\\n  position: absolute;\\n  top: 4px;\\n  width: 100%;\\n  z-index: 3;\\n}\\n\\n.tagsListEmpty {\\n  padding-top: 0.4rem;\\n  padding-bottom: 0.4rem;\\n  text-align: center;\\n}\\n\\n.tagsListItem {\\n  color: #000;\\n  cursor: pointer;\\n  padding-bottom: 0.4rem;\\n  padding-left: 0.3rem;\\n  padding-right: 0.3rem;\\n  padding-top: 0.4rem;\\n}\\n\\n.tagsListItem:hover {\\n  background-color: #1C97EA;\\n  color: #fff;\\n}\\n\\n.tagsSelect {\\n  display: inline-block;\\n  padding-left: 18px;\\n  width: 150px;\\n}\\n\\n.tagsSelectItem {\\n  border: 1px solid transparent;\\n  border-radius: 2px;\\n  display: inline-block;\\n  font-size: 0.75rem;\\n  font-weight: 400;\\n  margin-right: 0.3rem;\\n  padding-bottom: 0.1rem;\\n  padding-left: 0.2rem;\\n  padding-right: 0.2rem;\\n  padding-top: 0.1rem;\\n}\\n\\n.tagsSelectItemRemove {\\n  cursor: pointer;\\n  font-weight: bold;\\n}\\n\\n.tagsSelectItemRemove:before {\\n  content: \\\" \\\";\\n}\\n\",\"\\n.searchTagsContainer {\\n  display: inline-block;\\n  margin-left: -0.3rem;\\n  margin-right: -0.3rem;\\n  position: relative;\\n}\\n\\n.searchTagsInputBox {\\n  display: inline-block;\\n  padding-left: 0.3rem;\\n  padding-right: 0.3rem;\\n  position: relative;\\n}\\n\\n.searchTagsInputBox:before {\\n  content: \\\"\\\\f02b\\\";\\n  margin-right: 0.3rem;\\n  color: #c6c6c6;\\n  font-family: FontAwesome;\\n  position: absolute;\\n}\\n\\n.searchTags {\\n  border: none;\\n  border-bottom-width: 0;\\n  transition: border 0.3s;\\n  padding: 0.2rem;\\n  width: 35px;\\n}\\n\\n.searchTags:focus,\\n.searchTags:hover {\\n  border-bottom-width: 0;\\n}\\n\\n.tagsListContainer {\\n  display: block;\\n  max-height: 150px;\\n  position: relative;\\n}\\n\\n.tagsList {\\n  background-color: #fff;\\n  border: 1px solid rgba(0,0,0,.2);\\n  box-shadow: 0 3px 12px rgba(0,0,0,.15);\\n  display: inline-block;\\n  overflow: auto;\\n  position: absolute;\\n  top: 4px;\\n  width: 100%;\\n  z-index: 3;\\n}\\n\\n.tagsListEmpty {\\n  padding-top: 0.4rem;\\n  padding-bottom: 0.4rem;\\n  text-align: center;\\n}\\n\\n.tagsListItem {\\n  color: #000;\\n  cursor: pointer;\\n  padding-bottom: 0.4rem;\\n  padding-left: 0.3rem;\\n  padding-right: 0.3rem;\\n  padding-top: 0.4rem;\\n}\\n\\n.tagsListItem:hover {\\n  background-color: #1C97EA;\\n  color: #fff;\\n}\\n\\n.tagsSelect {\\n  display: inline-block;\\n  padding-left: 18px;\\n  width: 150px;\\n}\\n\\n.tagsSelectItem {\\n  border: 1px solid transparent;\\n  border-radius: 2px;\\n  display: inline-block;\\n  font-size: 0.75rem;\\n  font-weight: 400;\\n  margin-right: 0.3rem;\\n  padding-bottom: 0.1rem;\\n  padding-left: 0.2rem;\\n  padding-right: 0.2rem;\\n  padding-top: 0.1rem;\\n}\\n\\n.tagsSelectItemRemove {\\n  cursor: pointer;\\n  font-weight: bold;\\n}\\n\\n.tagsSelectItemRemove:before {\\n  content: \\\" \\\";\\n}\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\n// exports\nexports.locals = {\n\t\"searchTagsContainer\": \"searchTagsContainer___2CtsN\",\n\t\"searchTagsInputBox\": \"searchTagsInputBox___3Mcro\",\n\t\"searchTags\": \"searchTags___2UjPp\",\n\t\"tagsListContainer\": \"tagsListContainer___TqDs_\",\n\t\"tagsList\": \"tagsList___1XWCq\",\n\t\"tagsListEmpty\": \"tagsListEmpty___2YNU7\",\n\t\"tagsListItem\": \"tagsListItem___29aX7\",\n\t\"tagsSelect\": \"tagsSelect___2nOqo\",\n\t\"tagsSelectItem\": \"tagsSelectItem___1i0uy\",\n\t\"tagsSelectItemRemove\": \"tagsSelectItemRemove___2mq5M\"\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader?modules&importLoaders=2&sourceMap&localIdentName=[local]___[hash:base64:5]!./~/postcss-loader!./~/sass-loader?outputStyle=expanded&sourceMap!./studio/TagEntityTreeFilterByTags.scss\n ** module id = 34\n ** module chunks = 0\n **/","import React, { Component } from 'react'\nimport ShowColor from './ShowColor'\nimport findTagInSet from './findTagInSet'\n\nclass TagEntityTreeItem extends Component {\n  render () {\n    const { entity, entities } = this.props\n    let tags = entity.tags || []\n\n    // for tags, display the color right in the entity tree\n    if (entity.__entitySet === 'tags') {\n      tags = [entity]\n    }\n\n    const tagsLength = tags.length\n\n    return (\n      <div style={{ display: 'inline-block', marginLeft: '0.2rem', marginRight: '0.2rem' }}>\n        {tags.map((tag, tagIndex) => {\n          const tagFound = findTagInSet(entities.tags, tag.shortid) || {}\n\n          return (\n            <span key={tag.shortid} title={tagFound.name}>\n              <ShowColor color={tagFound.color} width={8} height={15} />\n              {(tagIndex !== tagsLength - 1) ? ' ' : null}\n            </span>\n          )\n        })}\n      </div>\n    )\n  }\n}\n\nexport default TagEntityTreeItem\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/TagEntityTreeItem.js\n **/","import React, { Component } from 'react'\nimport ShowColor from './ShowColor'\n\nclass TagEntityTreeTagGroupItem extends Component {\n  render () {\n    const { name, __entitySet, color } = this.props\n\n    if (__entitySet !== 'tags') {\n      return null\n    }\n\n    return (\n      <span title={name} style={{ display: 'inline-block', marginLeft: '0.2rem', marginRight: '0.2rem' }}>\n        <ShowColor color={color} width={8} height={15} />\n        &nbsp;\n      </span>\n    )\n  }\n}\n\nexport default TagEntityTreeTagGroupItem\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/TagEntityTreeTagGroupItem.js\n **/","\nexport default (entity, entitySets, filterInfo) => {\n  const { tags } = filterInfo\n  const allTagsInEntity = entity.tags || []\n\n  if (tags == null) {\n    return true\n  }\n\n  if (tags.length > 0) {\n    return tags.every((tag) => {\n      return allTagsInEntity.some((tagInEntity) => tagInEntity.shortid === tag.shortid)\n    })\n  }\n\n  return true\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/filterItemWithTagsStrategy.js\n **/"],"sourceRoot":""}